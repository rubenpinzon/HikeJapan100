{
  "version": 3,
  "file": "brain.js",
  "sourceRoot": "",
  "sources": [
    "brain.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "width = 960\nheight = 600\nactive = d3.select(null)\n\nsvg = d3.select('#map-ctn')\n  .append('svg')\n  .attr('width', width)\n  .attr('height', height)\n\nsvg.append(\"rect\")\n  .attr(\"class\", \"background\")\n  .attr(\"width\", width)\n  .attr(\"height\", height)\n  .on(\"click\", reset)\n\ng = svg.append(\"g\")\n  .style(\"stroke-width\", \"1px\")\n\nxym = d3.geo.conicEquidistantJapan()\n  .translate([width/ 2 + 150, height/ 2])\n  .scale(2500)\n\npath = d3.geo.path().projection(xym)\n\n\nd3.json 'nihon.geo.json', (data) ->\n\n  g.selectAll('path').data(data.features)\n    .enter()\n    .append('path')\n    .attr('d', path)\n    .attr('class',\"prefecture\")\n    .style('fill', ->'rgba(58,70,14,0.19)')\n    .on('mouseover', (e) ->\n        d3.select(this).style('fill', '#6187aa')\n        return)\n    .on('mouseout', (e) ->\n        d3.select(this).style('fill', 'rgba(58,70,14,0.19)')\n        return)\n    .on('click', clicked)\n\n  g.append(\"path\")\n    .style(\"fill\",\"none\")\n    .style(\"stroke\",\"#ff1500\")\n    .attr(\"d\", xym.getCompositionBorders())\n\n  return\n\nclicked = (d)->\n  if active.node() == this\n    reset()\n    return\n\n  active.classed('active', false)\n  active = d3.select(this).classed('active', true)\n\n  bounds = path.bounds(d)\n  dx = bounds[1][0] - (bounds[0][0])\n  dy = bounds[1][1] - (bounds[0][1])\n  x = (bounds[0][0] + bounds[1][0]) / 2\n  y = (bounds[0][1] + bounds[1][1]) / 2\n  scale = .9/ Math.max(dx/width, dy / height)\n  translate = [\n    width / 2 - (scale * x)\n    height / 2 - (scale * y)\n  ]\n\n  g.transition().duration(750)\n    .style('stroke-width', 1.5 / scale + 'px')\n    .attr('transform', 'translate(' + translate + ')scale(' + scale + ')')\n\n\nreset = () ->\n  console.log \"here\"\n  active.classed(\"active\", false)\n  active = d3.select(null)\n\n  g.transition()\n    .duration(750)\n    .style(\"stroke-width\", \"1px\")\n    .attr(\"transform\", \"\")\n  return"
  ]
}